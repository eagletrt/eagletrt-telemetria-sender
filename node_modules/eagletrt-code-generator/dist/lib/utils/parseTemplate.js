"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function addInitialIndentation(row, block) {
    var indentation = row.split('//')[0];
    return block
        // Split all the rows
        .split('\n')
        // Add the indentation to the row
        .map(function (row) { return indentation + row; })
        // Join all the rows
        .join('\n');
}
function parseTemplate(template, codes, options) {
    return template
        // Split all the rows
        .split('\n')
        // Map every row
        .map(function (row) { return codes
        // Filter all the codes whose comment is in the row
        .filter(function (code) { return row.indexOf(code.comment) !== -1; })
        // Map the code with the indentation
        .map(function (code) { return options.indent ? addInitialIndentation(row, code.code) : code.code; })
        // Join the codes
        .join('')
        // If there are not special comments, return the unmodified row 
        || row; })
        // Join all the rows
        .join('\n');
}
exports.parseTemplate = parseTemplate;
//# sourceMappingURL=parseTemplate.js.map